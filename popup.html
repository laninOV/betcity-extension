<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>–ê–Ω–∞–ª–∏–∑ —Ç–µ–Ω–Ω–∏—Å–Ω—ã—Ö –º–∞—Ç—á–µ–π</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="popup.css" />
</head>
<body>
  <div class="container">

    <div id="loading" class="loading hidden">
      <div class="spinner"></div>
      –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º...
    </div>

    <div id="error" class="error hidden"><p></p></div>

    <div id="recommendationBlock" style="
      padding: 4px 8px;
      background: linear-gradient(135deg, #31489e 0%, #152951 100%);
      border-radius: 6px;
      margin: 4px 8px 6px 8px;
      color: #eaefff;
      font-weight: 600;
      font-size: 11px;
      user-select: text;
      box-shadow: none;
      line-height: 1.2;
    "></div>

    <!-- –¢–æ–ø-3 –≤–µ—Ä–æ—è—Ç–Ω—ã—Ö —Å—á–µ—Ç–æ–≤ –≤ –¥–≤–µ –∫–æ–ª–æ–Ω–∫–∏ -->
    <div id="topScoresWrapper" style="display: flex; gap: 12px; margin: 0 12px 6px 12px;">
      <section class="stats-card" style="flex:1;">
        <h3 style="margin:0 0 3px;">üèÜ –¢–æ–ø 3 —Å—á–µ—Ç–∞ (–û–±—â–µ–µ)</h3>
        <table class="mini-table" aria-label="–¢–æ–ø 3 –Ω–∞–∏–±–æ–ª–µ–µ –≤–µ—Ä–æ—è—Ç–Ω—ã—Ö —Å—á–µ—Ç–∞ - –û–±—â–∏–µ">
          <thead><tr><th>–°—á–µ—Ç</th><th>–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å</th></tr></thead>
          <tbody id="topGeneralScoresBody"></tbody>
        </table>
      </section>
      <section class="stats-card" style="flex:1;">
        <h3 style="margin:0 0 3px;">üèÜ –¢–æ–ø 3 —Å—á–µ—Ç–∞ (–ë—Ä—ç–¥–ª–∏‚Äì–¢–µ—Ä—Ä–∏)</h3>
        <table class="mini-table" aria-label="–¢–æ–ø 3 –Ω–∞–∏–±–æ–ª–µ–µ –≤–µ—Ä–æ—è—Ç–Ω—ã—Ö —Å—á–µ—Ç–∞ - –ë—Ä—ç–¥–ª–∏‚Äì–¢–µ—Ä—Ä–∏">
          <thead><tr><th>–°—á–µ—Ç</th><th>–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å</th></tr></thead>
          <tbody id="topBTScoresBody"></tbody>
        </table>
      </section>
    </div>

    <!-- –ö—Ä–∞—Ç–∫–∞—è –æ—Å–Ω–æ–≤–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–≥—Ä–æ–∫–æ–≤ —Å —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ–º -->
    <div id="mainQuickStats" class="stats-card" style="margin: 0 12px 6px 12px; padding:8px;">
      <table style="width:100%; font-size:12px; border-collapse: collapse; text-align: center;">
        <thead>
          <tr>
            <th style="width: 35%;">–ò–≥—Ä–æ–∫</th>
            <th style="width: 15%;">S</th>
            <th style="width: 15%;">–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å</th>
            <th style="width: 20%;">H2H</th>
            <th style="width: 15%;">–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å</th>
          </tr>
        </thead>
        <tbody id="mainTableBody"></tbody>
      </table>
    </div>

    <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–≥—Ä–æ–∫–æ–≤ –∏ –ö–£ –Ω–∞ –æ–¥–Ω–æ–º —É—Ä–æ–≤–Ω–µ -->
    <div style="display: flex; gap: 12px; margin: 0 12px 6px 12px;">
      <section class="stats-card" style="flex:1;">
        <h3 style="margin:0 0 3px;">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–≥—Ä–æ–∫–æ–≤</h3>
        <table class="mini-table" aria-describedby="statsDesc">
          <thead>
            <tr>
              <th>–ü–æ–∫–∞–∑–∞—Ç–µ–ª—å</th>
              <th id="statName1">–ò–≥—Ä–æ–∫ 1</th>
              <th id="statName2">–ò–≥—Ä–æ–∫ 2</th>
            </tr>
          </thead>
          <tbody>
            <tr><td>S‚ÇÇ</td><td id="s2Player1">-</td><td id="s2Player2">-</td></tr>
            <tr><td>S‚ÇÖ</td><td id="s5Player1">-</td><td id="s5Player2">-</td></tr>
            <tr><td>–°—É—Ö–∏–µ –ø–æ–±–µ–¥—ã</td><td id="dryWins1">-</td><td id="dryWins2">-</td></tr>
            <tr><td>–°—É—Ö–∏–µ –ø–æ—Ä–∞–∂–µ–Ω–∏—è</td><td id="dryLosses1">-</td><td id="dryLosses2">-</td></tr>
          </tbody>
        </table>
      </section>
      <section class="stats-card" style="flex:1;">
        <h3 style="margin:0 0 3px;">üí™ –ö–£_–¢–ë3.5_–æ—á–∫–∏</h3>
        <table class="mini-table" aria-describedby="kuTbDesc">
          <thead>
            <tr>
              <th>–ò–≥—Ä–æ–∫</th>
              <th>–ö–£</th>
              <th>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td id="kuTbPlayerA">-</td>
              <td id="kuTbValueA">-</td>
              <td id="kuTbRecA">-</td>
            </tr>
            <tr>
              <td id="kuTbPlayerB">-</td>
              <td id="kuTbValueB">-</td>
              <td id="kuTbRecB">-</td>
            </tr>
          </tbody>
        </table>
      </section>
    </div>

    <!-- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∏ –ø–æ–±–µ–¥—ã –≤ —Å–µ—Ç–∞—Ö –Ω–∞ –æ–¥–Ω–æ–º —É—Ä–æ–≤–Ω–µ -->
    <div style="display: flex; gap: 12px; margin: 0 12px 8px 12px;">
      <section class="stats-card" style="flex:1;">
        <h3 style="margin:0 0 3px;">üé≤ –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤</h3>
        <div class="match-visualization" aria-label="–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∏–≥—Ä–æ–∫–æ–≤">
          <div class="match-viz-row">
            <span id="vizNameFav" class="player-name-viz"></span>
            <span id="matchVizFav" class="dots-viz" aria-hidden="true"></span>
          </div>
          <div class="match-viz-row">
            <span id="vizNameUnd" class="player-name-viz"></span>
            <span id="matchVizUnd" class="dots-viz" aria-hidden="true"></span>
          </div>
          <div class="match-viz-row" id="h2hVizRow" style="display:none;">
            <span class="player-name-viz">H2H:</span>
            <span id="h2hVizInline" class="dots-viz"></span>
          </div>
        </div>
        <div class="legend" aria-label="–õ–µ–≥–µ–Ω–¥–∞">
          <span class="legend-item">üü¢ ‚Äì –ø–æ–±–µ–¥–∞</span>
          <span class="legend-item">üî¥ ‚Äì –ø–æ—Ä–∞–∂–µ–Ω–∏–µ</span>
        </div>
      </section>
      <section class="stats-card" style="flex:1;">
        <h3 style="margin:0 0 3px;">üéØ –ü–æ–±–µ–¥—ã –≤ —Å–µ—Ç–∞—Ö</h3>
        <table class="mini-table">
          <thead>
            <tr><th>–°–µ—Ç</th><th id="p1Sets">–ò–≥—Ä–æ–∫ 1</th><th id="p2Sets">–ò–≥—Ä–æ–∫ 2</th></tr>
          </thead>
          <tbody id="setsTableBody"></tbody>
        </table>
      </section>
    </div>

    <!-- –ü–æ–¥—Ä–æ–±–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã –≤–Ω–∏–∑—É -->
    <div class="stats-grid" style="margin: 0 12px 12px 12px;">
      <section class="stats-card">
        <h3 id="scoreProbsTitle" style="margin: 0 0 6px 0;">üîÆ –°—á–µ—Ç–∞ (–æ–±—â–∏–µ, –ø–æ–¥—Ä–æ–±–Ω–æ)</h3>
        <table class="mini-table" aria-label="–¢–∞–±–ª–∏—Ü–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π –∏—Ç–æ–≥–æ–≤—ã—Ö —Å—á–µ—Ç–æ–≤">
          <thead>
            <tr><th>–°—á–µ—Ç</th><th>–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å</th></tr>
          </thead>
          <tbody id="scoreTableBody"></tbody>
        </table>
      </section>
      <section class="stats-card">
        <h3 id="btProbsTitle" style="margin: 0 0 6px 0;">üî¢ –ë—Ä—ç–¥–ª–∏‚Äì–¢–µ—Ä—Ä–∏ (–ø–æ–¥—Ä–æ–±–Ω–æ)</h3>
        <table class="mini-table" aria-label="–¢–∞–±–ª–∏—Ü–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π –ø–æ –º–æ–¥–µ–ª–∏ –ë—Ä—ç–¥–ª–∏‚Äì–¢–µ—Ä—Ä–∏">
          <thead>
            <tr><th>–°—á–µ—Ç</th><th>–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å</th></tr>
          </thead>
          <tbody id="btScoreTableBody"></tbody>
        </table>
      </section>
    </div>

  </div>

  <script src="chart.js"></script>
  <script src="popup.js"></script>
</body>
</html>
